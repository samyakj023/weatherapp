{"ast":null,"code":"import { map } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/store/store.service\";\nimport * as i2 from \"@angular/common\";\n\nfunction TodayWeatherComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"div\", 2);\n    i0.ɵɵelementStart(2, \"div\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", \"wi-font wi wi-icon-\" + ctx_r0.weatherData.icon);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.weatherData.temp);\n  }\n}\n\nexport class TodayWeatherComponent {\n  constructor(storeService) {\n    this.storeService = storeService;\n    this.city$ = this.storeService.selectedCity$.pipe(map(city => city?.nm));\n  }\n\n  ngOnChanges() {\n    this.weatherData = {\n      icon: this.weather.weather[0]?.id,\n      temp: this.weather.main?.temp\n    };\n  }\n\n}\n\nTodayWeatherComponent.ɵfac = function TodayWeatherComponent_Factory(t) {\n  return new (t || TodayWeatherComponent)(i0.ɵɵdirectiveInject(i1.StoreService));\n};\n\nTodayWeatherComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TodayWeatherComponent,\n  selectors: [[\"app-today-weather\"]],\n  inputs: {\n    weather: \"weather\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 5,\n  vars: 4,\n  consts: [[1, \"today-weather\"], [4, \"ngIf\"], [1, \"icon\", 3, \"ngClass\"]],\n  template: function TodayWeatherComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\");\n      i0.ɵɵtext(2);\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(4, TodayWeatherComponent_div_4_Template, 4, 2, \"div\", 1);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, ctx.city$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.weatherData);\n    }\n  },\n  dependencies: [i2.NgClass, i2.NgIf, i2.AsyncPipe],\n  styles: [\".today-weather[_ngcontent-%COMP%] {\\n  text-align: center;\\n  display: inline-block;\\n  margin: 1rem auto;\\n}\\n.today-weather[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\\n  margin-top: 0.5rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvZGF5LXdlYXRoZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLHFCQUFBO0VBQ0EsaUJBQUE7QUFDRjtBQUNFO0VBQ0Usa0JBQUE7QUFDSiIsImZpbGUiOiJ0b2RheS13ZWF0aGVyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRvZGF5LXdlYXRoZXIge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgbWFyZ2luOiAxcmVtIGF1dG87XHJcblxyXG4gIGRpdiB7XHJcbiAgICBtYXJnaW4tdG9wOiAwLjVyZW07XHJcbiAgfVxyXG59XHJcbiJdfQ== */\"],\n  changeDetection: 0\n});","map":{"version":3,"mappings":"AACA,SAASA,GAAT,QAAoB,MAApB;;;;;;;ICCEC;IACEA;IAIAA;IAAKA;IAAsBA;;;;;IAFzBA;IAAAA;IAEGA;IAAAA;;;;ADGT,OAAM,MAAOC,qBAAP,CAA4B;EAMhCC,YAAoBC,YAApB,EAA8C;IAA1B;IAFb,aAAQ,KAAKA,YAAL,CAAkBC,aAAlB,CAAgCC,IAAhC,CAAqCN,GAAG,CAAEO,IAAD,IAAUA,IAAI,EAAEC,EAAjB,CAAxC,CAAR;EAE2C;;EAElDC,WAAW;IACT,KAAKC,WAAL,GAAmB;MACjBC,IAAI,EAAE,KAAKC,OAAL,CAAaA,OAAb,CAAqB,CAArB,GAAyBC,EADd;MAEjBC,IAAI,EAAE,KAAKF,OAAL,CAAaG,IAAb,EAAmBD;IAFR,CAAnB;EAID;;AAb+B;;;mBAArBZ,uBAAqBD;AAAA;;;QAArBC;EAAqBc;EAAAC;IAAAL;EAAA;EAAAM;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCVlCrB,+BAA2B,CAA3B,EAA2B,KAA3B;MACOA;;MAAmBA;MACxBA;MAOFA;;;;MAROA;MAAAA;MACCA;MAAAA","names":["map","i0","TodayWeatherComponent","constructor","storeService","selectedCity$","pipe","city","nm","ngOnChanges","weatherData","icon","weather","id","temp","main","selectors","inputs","features","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Coolp\\weather-app\\src\\app\\components\\today-weather\\today-weather.component.ts","C:\\Users\\Coolp\\weather-app\\src\\app\\components\\today-weather\\today-weather.component.html"],"sourcesContent":["import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\r\nimport { map } from 'rxjs';\r\nimport { StoreService } from 'src/app/services/store/store.service';\r\n\r\n@Component({\r\n  selector: 'app-today-weather',\r\n  templateUrl: './today-weather.component.html',\r\n  styleUrls: ['./today-weather.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class TodayWeatherComponent {\r\n  @Input() weather;\r\n  weatherData;\r\n\r\n  public city$ = this.storeService.selectedCity$.pipe(map((city) => city?.nm));\r\n\r\n  constructor(private storeService: StoreService) {}\r\n\r\n  ngOnChanges() {\r\n    this.weatherData = {\r\n      icon: this.weather.weather[0]?.id,\r\n      temp: this.weather.main?.temp,\r\n    };\r\n  }\r\n}\r\n","<div class=\"today-weather\">\r\n  <div>{{ city$ | async }}</div>\r\n  <div *ngIf=\"weatherData\">\r\n    <div\r\n      class=\"icon\"\r\n      [ngClass]=\"'wi-font wi wi-icon-' + weatherData.icon\"\r\n    ></div>\r\n    <div>{{ weatherData.temp }}</div>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module"}